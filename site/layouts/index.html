{{ define "main" }}

<div class="container">

    <!-- ==========================
         1. CV å€åŸŸ (å€‹äººæª”æ¡ˆ)
         ========================== -->
    <div class="page-header" style="text-align: left; margin-bottom: 40px;">
        <!-- é¡¯ç¤ºåå­— -->
        <h1 style="font-size: 3.5rem;">{{ .Title }}</h1>
        <!-- é¡¯ç¤ºè·ç¨± -->
        <h3 style="color:#ccc; font-family:'Anton'; letter-spacing:1px; margin-top:10px;">
            {{ .Params.role }}
        </h3>
    </div>

    <!-- é—œæ–¼æˆ‘ & é ­åƒå€å¡Š -->
    <div class="split-section" style="align-items: flex-start; margin-bottom: 60px;">
        
        <!-- å·¦é‚Šï¼šæ–‡å­—ä»‹ç´¹ -->
        <div style="flex: 2; padding-right: 20px;">
            <div class="post-card" style="border-left: 6px solid #fff;">
                <div class="post-content">
                    <h3 style="color:var(--main-red);">// ABOUT ME</h3>
                    <!-- é€™è£¡æœƒé¡¯ç¤º Markdown å…§æ–‡ -->
                    {{ .Content }}
                </div>
            </div>

            <!-- æŠ€èƒ½æ¨™ç±¤ (å¾ž YAML è®€å–) -->
            {{ if .Params.skills }}
            <div style="margin-top: 20px;">
                <h4 style="font-family:'Anton'; margin-bottom:10px;">SKILLS:</h4>
                <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                    {{ range .Params.skills }}
                    <span style="background: var(--main-red); color: white; padding: 4px 12px; font-size: 0.9rem; transform: skewX(-5deg); display:inline-block;">
                        {{ . }}
                    </span>
                    {{ end }}
                </div>
            </div>
            {{ end }}
        </div>
        
        <!-- å³é‚Šï¼šé ­åƒ (å¦‚æžœæœ‰è¨­å®šçš„è©±) -->
        {{ if .Params.avatar }}
        <div style="flex: 1; text-align: center;">
            <img src="{{ .Params.avatar }}" alt="Avatar" 
                 style="width: 100%; max-width: 250px; border: 4px solid var(--main-red); box-shadow: 10px 10px 0 #fff; transform: skewX(-2deg);">
            
            <!-- ç¤¾äº¤é€£çµ (Email/Github) ç¯„ä¾‹ -->
            <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
                <a href="/papers" style="background:#fff; color:#000; padding:5px 10px; font-weight:bold;">ðŸ“„ CV PDF</a>
                <a href="https://github.com/andrewcheng2016" target="_blank" style="background:#333; color:#fff; padding:5px 10px;">GITHUB</a>
            </div>
        </div>
        {{ end }}
    </div>

    <!-- å·¥ä½œç¶“æ­·å€å¡Š (å¾ž YAML è®€å– experiences) -->
    {{ if .Params.experiences }}
    <div class="section-title">
        <span>EXPERIENCE</span>
    </div>
    <div class="card-grid" style="margin-bottom: 80px;">
        {{ range .Params.experiences }}
        <div class="post-card">
            <div class="post-meta">{{ .period }}</div>
            <div class="post-content">
                <h3 style="color:var(--main-red); margin-bottom: 5px;">{{ .company }}</h3>
                <h4 style="color:#fff; margin-bottom: 10px;">{{ .role }}</h4>
                <p>{{ .description }}</p>
            </div>
        </div>
        {{ end }}
    </div>
    {{ end }}

    <!-- ==========================
         2. æœ€æ–°å‹•æ…‹ (ä¿ç•™ä½ åŽŸæœ¬çš„ Toys å’Œ Papers)
         ========================== -->
    <div class="section-title" style="margin-top: 100px; border-bottom: 5px solid #333;">
        <span style="background: #333; color: var(--main-red);">LATEST UPDATES</span>
    </div>

    <div class="split-section">
        
        <!-- å·¦é‚Šï¼šæœ€æ–°çŽ©å…· (åªå–å‰ 2 å€‹) -->
        <section class="category-box">
            <h3 style="font-family:'Anton'; margin-bottom:20px; color:var(--main-red);">ðŸ§¸ NEW TOYS</h3>
            <div class="card-grid">
                {{ range first 2 (where .Site.RegularPages "Section" "toys") }}
                <article class="post-card">
                    <div class="post-content">
                        <div class="post-meta">{{ .Date.Format "2006.01.02" }}</div>
                        <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                    </div>
                </article>
                {{ end }}
                <a href="/toys" class="view-all" style="display:block; text-align:center; margin-top:20px;">VIEW ALL TOYS &rarr;</a>
            </div>
        </section>

        <!-- å³é‚Šï¼šæœ€æ–°è«–æ–‡ (åªå–å‰ 2 å€‹) -->
        <section class="category-box">
            <h3 style="font-family:'Anton'; margin-bottom:20px; color:var(--main-red);">ðŸ“„ NEW PAPERS</h3>
            <div class="card-grid">
                {{ range first 2 (where .Site.RegularPages "Section" "papers") }}
                <article class="post-card">
                    <div class="post-content">
                        <div class="post-meta">{{ .Date.Format "2006.01.02" }}</div>
                        <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                    </div>
                </article>
                {{ end }}
                <a href="/papers" class="view-all" style="display:block; text-align:center; margin-top:20px;">VIEW ALL PAPERS &rarr;</a>
            </div>
        </section>

    </div>
</div>

{{ end }}